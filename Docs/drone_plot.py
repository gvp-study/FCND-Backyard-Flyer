import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Define the file content as a multiline string (for demonstration)
data = """MsgID.GLOBAL_POSITION,0.0000000,-122.3957463,37.7932754,0.0970000
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,0.0000000,0.0000000
MsgID.LOCAL_POSITION,365.9500000,-0.2530547,0.4965539,-0.0977714
MsgID.LOCAL_VELOCITY,365.9500000,0.0000000,0.0000000,-0.0000000
MsgID.STATE,0.0000000,False,False,1
MsgID.GLOBAL_HOME,0.0000000,-122.3957519,37.7932777,0.0000000
MsgID.GLOBAL_POSITION,0.0000000,-122.3957472,37.7932743,0.1070000
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,0.0000000,0.0000000
MsgID.LOCAL_POSITION,366.1990000,-0.3784468,0.4144320,-0.1077293
MsgID.LOCAL_VELOCITY,366.1990000,0.0000000,0.0000000,-0.0000000
MsgID.GLOBAL_POSITION,0.0000000,-122.3957491,37.7932752,0.1160000
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,0.0000000,0.0000000
MsgID.LOCAL_POSITION,366.4510000,-0.2814083,0.2522061,-0.1162527
MsgID.LOCAL_VELOCITY,366.4510000,0.0000000,0.0000000,-0.0000000
MsgID.GLOBAL_POSITION,0.0000000,-122.3957489,37.7932756,0.1190000
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,0.0000000,0.0000000
MsgID.LOCAL_POSITION,366.7010000,-0.2285752,0.2638063,-0.1197982
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,-0.0000000
MsgID.GLOBAL_POSITION,0.0000000,-122.3957465,37.7932756,0.1150000
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,0.0000000,0.0000000
MsgID.LOCAL_POSITION,366.9500000,-0.2285817,0.4805351,-0.1153730
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,-0.0000000
MsgID.STATE,0.0000000,False,False,1
MsgID.GLOBAL_HOME,0.0000000,-122.3957519,37.7932777,0.0000000
MsgID.GLOBAL_POSITION,0.0000000,-122.3957487,37.7932756,0.1010000
MsgID.LOCAL_VELOCITY,0.0000000,0.0000000,0.0000000,0.0000000
MsgID.LOCAL_POSITION,367.2010000,-0.2288662,0.2863339,-0.1013307
MsgID.LOCAL_VELOCITY,367.2010000,0.0000000,0.0000000,-0.0000000
MsgID.GLOBAL_POSITION,0.0000000,-122.3957489,37.7932756,0.0770000"""


with open('..\Logs\TLog.txt', 'r') as file:
    data = file.read()

# Parse the data
xyz_data = []

for line in data.splitlines():
    #if line.startswith("MsgID.LOCAL_POSITION"):
    if line.startswith("MsgID.GLOBAL_POSITION"):
        parts = line.split(',')
        # Extracting x, y, z coordinates (ignoring the first value and the last)
        x = float(parts[2])
        y = float(parts[3])
        z = float(parts[4])
        xyz_data.append((x, y, z))
        print(line, x, y, z)
    if line.startswith("MsgID.LOCAL_POSITION"):
        print(line)


# Unpack the XYZ coordinates
xs, ys, zs = zip(*xyz_data)

# Plot the data
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

ax.plot(xs, ys, zs, marker='o', linestyle='-', color='b')

# Set labels
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')

plt.show()


